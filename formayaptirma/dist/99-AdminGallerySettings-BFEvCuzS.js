import{O as e,K as t,U as r,N as n,T as a,Q as s,R as i,V as o,j as l,n as d,a7 as c,s as u,J as m,aF as h,aH as f,aG as p}from"./03-hero-critical-BKzCa96P.js";import{a as g,r as x}from"./01-react-core-DCvPBpDR.js";import{C as v,g as w,h as j,i as y,f as _,B as b}from"./04-ui-components-DpbmxBFV.js";import{I as N}from"./05-admin-bundle-BW3OFzIa.js";import{L as C}from"./99-label-DtO75rKq.js";import{S as k}from"./99-switch-BaDU39Q5.js";import{T as S,a as R,b as E,c as T}from"./99-tabs-CCs0hPp1.js";import{T as P,a as D,b as O,c as A,d as F,e as $}from"./99-table-DV3dN7kr.js";import{c as M}from"./06-utils-QQqVvbBo.js";import{T as q}from"./99-textarea-BOZk7JoE.js";import{F as I,a as B,b as z,c as L,d as H,e as W,f as U}from"./99-form-BQypkM9v.js";import{u as V}from"./99-index.esm-2mfLcUez.js";import{S as Y,a as G,b as X,c as J,d as Q}from"./99-select-CL9TI2Dz.js";import"./02-react-router-l50u7dmW.js";import"./99-index-D5v_MFz8.js";import"./99-index-CxCer4qO.js";const K=g.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Z=()=>{const e=g.useContext(K);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};!function(e){if("undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}("[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(\n[data-state=closed]\n){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}");const ee="undefined"!=typeof window?x.useLayoutEffect:x.useEffect;function te(...e){return(...t)=>{for(let r of e)"function"==typeof r&&r(...t)}}function re(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function ne(){return ae(/^iPhone/)||ae(/^iPad/)||ae(/^Mac/)&&navigator.maxTouchPoints>1}function ae(e){return"undefined"!=typeof window&&null!=window.navigator?e.test(window.navigator.platform):void 0}const se="undefined"!=typeof document&&window.visualViewport;function ie(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function oe(e){for(ie(e)&&(e=e.parentElement);e&&!ie(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const le=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let de,ce=0;function ue(e,t,r,n){return e.addEventListener(t,r,n),()=>{e.removeEventListener(t,r,n)}}function me(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let t=oe(e);if(t!==document.documentElement&&t!==document.body&&t!==e){let r=t.getBoundingClientRect().top,n=e.getBoundingClientRect().top;e.getBoundingClientRect().bottom>t.getBoundingClientRect().bottom+24&&(t.scrollTop+=n-r)}e=t.parentElement}}function he(e){return e instanceof HTMLInputElement&&!le.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function fe(...e){return x.useCallback(function(...e){return t=>e.forEach((e=>function(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}(e,t)))}(...e),e)}const pe=new WeakMap;function ge(e,t,r=!1){if(!(e&&e instanceof HTMLElement))return;let n={};Object.entries(t).forEach((([t,r])=>{t.startsWith("--")?e.style.setProperty(t,r):(n[t]=e.style[t],e.style[t]=r)})),r||pe.set(e,n)}const xe=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function ve(e,t){if(!e)return null;const r=window.getComputedStyle(e),n=r.transform||r.webkitTransform||r.mozTransform;let a=n.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[xe(t)?13:12]):(a=n.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[xe(t)?5:4]):null)}function we(e,t){if(!e)return()=>{};const r=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=r}}const je={DURATION:.5,EASE:[.32,.72,0,1]},ye="vaul-dragging";function _e(e){const t=g.useRef(e);return g.useEffect((()=>{t.current=e})),g.useMemo((()=>(...e)=>null==t.current?void 0:t.current.call(t,...e)),[])}function be({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=function({defaultProp:e,onChange:t}){const r=g.useState(e),[n]=r,a=g.useRef(n),s=_e(t);return g.useEffect((()=>{a.current!==n&&(s(n),a.current=n)}),[n,a,s]),r}({defaultProp:t,onChange:r}),s=void 0!==e,i=s?e:n,o=_e(r);return[i,g.useCallback((t=>{if(s){const r="function"==typeof t?t(e):t;r!==e&&o(r)}else a(t)}),[s,e,a,o])]}let Ne=null;function Ce({open:e,onOpenChange:t,children:r,onDrag:n,onRelease:a,snapPoints:s,shouldScaleBackground:o=!1,setBackgroundColorOnScale:l=!0,closeThreshold:d=.25,scrollLockTimeout:c=100,dismissible:u=!0,handleOnly:m=!1,fadeFromIndex:h=s&&s.length-1,activeSnapPoint:f,setActiveSnapPoint:p,fixed:x,modal:v=!0,onClose:w,nested:j,noBodyStyles:y,direction:_="bottom",defaultOpen:b=!1,disablePreventScroll:N=!0,snapToSequentialPoint:C=!1,preventScrollRestoration:k=!1,repositionInputs:S=!0,onAnimationEnd:R,container:E,autoFocus:T=!1}){var P,D;const[O=!1,A]=be({defaultProp:b,prop:e,onChange:e=>{null==t||t(e),e||j||Te(),setTimeout((()=>{null==R||R(e)}),1e3*je.DURATION),e&&!v&&"undefined"!=typeof window&&window.requestAnimationFrame((()=>{document.body.style.pointerEvents="auto"})),e||(document.body.style.pointerEvents="auto")}}),[F,$]=g.useState(!1),[M,q]=g.useState(!1),[I,B]=g.useState(!1),z=g.useRef(null),L=g.useRef(null),H=g.useRef(null),W=g.useRef(null),U=g.useRef(null),V=g.useRef(!1),Y=g.useRef(null),G=g.useRef(0),X=g.useRef(!1),J=g.useRef(0),Q=g.useRef(null),Z=g.useRef((null==(P=Q.current)?void 0:P.getBoundingClientRect().height)||0),ae=g.useRef((null==(D=Q.current)?void 0:D.getBoundingClientRect().width)||0),ie=g.useRef(0),le=g.useCallback((e=>{s&&e===ke.length-1&&(L.current=new Date)}),[]),{activeSnapPoint:fe,activeSnapPointIndex:we,setActiveSnapPoint:_e,onRelease:Ce,snapPointsOffset:ke,onDrag:Se,shouldFade:Re,getPercentageDragged:Ee}=function({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:r,drawerRef:n,overlayRef:a,fadeFromIndex:s,onSnapPointChange:i,direction:o="bottom",container:l,snapToSequentialPoint:d}){const[c,u]=be({prop:e,defaultProp:null==r?void 0:r[0],onChange:t}),[m,h]=g.useState("undefined"!=typeof window?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);g.useEffect((()=>{function e(){h({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);const f=g.useMemo((()=>c===(null==r?void 0:r[r.length-1])||null),[r,c]),p=g.useMemo((()=>null==r?void 0:r.findIndex((e=>e===c))),[r,c]),x=r&&r.length>0&&(s||0===s)&&!Number.isNaN(s)&&r[s]===c||!r,v=g.useMemo((()=>{const e=l?{width:l.getBoundingClientRect().width,height:l.getBoundingClientRect().height}:"undefined"!=typeof window?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var t;return null!=(t=null==r?void 0:r.map((t=>{const r="string"==typeof t;let n=0;if(r&&(n=parseInt(t,10)),xe(o)){const a=r?n:m?t*e.height:0;return m?"bottom"===o?e.height-a:-e.height+a:a}const a=r?n:m?t*e.width:0;return m?"right"===o?e.width-a:-e.width+a:a})))?t:[]}),[r,m,l]),w=g.useMemo((()=>null!==p?null==v?void 0:v[p]:null),[v,p]),j=g.useCallback((e=>{var t;const l=null!=(t=null==v?void 0:v.findIndex((t=>t===e)))?t:null;i(l),ge(n.current,{transition:`transform ${je.DURATION}s cubic-bezier(${je.EASE.join(",")})`,transform:xe(o)?`translate3d(0, ${e}px, 0)`:`translate3d(${e}px, 0, 0)`}),v&&l!==v.length-1&&l!==s&&l<s?ge(a.current,{transition:`opacity ${je.DURATION}s cubic-bezier(${je.EASE.join(",")})`,opacity:"0"}):ge(a.current,{transition:`opacity ${je.DURATION}s cubic-bezier(${je.EASE.join(",")})`,opacity:"1"}),u(null==r?void 0:r[Math.max(l,0)])}),[n.current,r,v,s,a,u]);return g.useEffect((()=>{if(c||e){var t;const n=null!=(t=null==r?void 0:r.findIndex((t=>t===e||t===c)))?t:-1;v&&-1!==n&&"number"==typeof v[n]&&j(v[n])}}),[c,e,r,v,j]),{isLastSnapPoint:f,activeSnapPoint:c,shouldFade:x,getPercentageDragged:function(e,t){if(!r||"number"!=typeof p||!v||void 0===s)return null;const n=p===s-1;if(p>=s&&t)return 0;if(n&&!t)return 1;if(!x&&!n)return null;const a=n?p+1:p-1,i=n?v[a]-v[a-1]:v[a+1]-v[a],o=e/Math.abs(i);return n?1-o:o},setActiveSnapPoint:u,activeSnapPointIndex:p,onRelease:function({draggedDistance:e,closeDrawer:t,velocity:n,dismissible:i}){if(void 0===s)return;const l="bottom"===o||"right"===o?(null!=w?w:0)-e:(null!=w?w:0)+e,c=0===p,u=e>0;if(p===s-1&&ge(a.current,{transition:`opacity ${je.DURATION}s cubic-bezier(${je.EASE.join(",")})`}),!d&&n>2&&!u)return void(i?t():j(v[0]));if(!d&&n>2&&u&&v&&r)return void j(v[r.length-1]);const m=null==v?void 0:v.reduce(((e,t)=>"number"!=typeof e||"number"!=typeof t?e:Math.abs(t-l)<Math.abs(e-l)?t:e)),h=xe(o)?window.innerHeight:window.innerWidth;if(n>.4&&Math.abs(e)<.4*h){const e=u?1:-1;if(e>0&&f)return void j(v[r.length-1]);if(c&&e<0&&i&&t(),null===p)return;j(v[p+e])}else j(m)},onDrag:function({draggedDistance:e}){if(null===w)return;const t="bottom"===o||"right"===o?w-e:w+e;("bottom"===o||"right"===o)&&t<v[v.length-1]||("top"===o||"left"===o)&&t>v[v.length-1]||ge(n.current,{transform:xe(o)?`translate3d(0, ${t}px, 0)`:`translate3d(${t}px, 0, 0)`})},snapPointsOffset:v}}({snapPoints:s,activeSnapPointProp:f,setActiveSnapPointProp:p,drawerRef:Q,fadeFromIndex:h,overlayRef:z,onSnapPointChange:le,direction:_,container:E,snapToSequentialPoint:C});!function(e={}){let{isDisabled:t}=e;ee((()=>{if(!t)return ce++,1===ce&&ne()&&(de=function(){let e,t=0,r=window.pageXOffset,n=window.pageYOffset,a=te(function(e,t,r){let n=e.style[t];return e.style[t]=r,()=>{e.style[t]=n}}(document.documentElement,"paddingRight",window.innerWidth-document.documentElement.clientWidth+"px"));window.scrollTo(0,0);let s=te(ue(document,"touchstart",(r=>{e=oe(r.target),e===document.documentElement&&e===document.body||(t=r.changedTouches[0].pageY)}),{passive:!1,capture:!0}),ue(document,"touchmove",(r=>{if(!e||e===document.documentElement||e===document.body)return void r.preventDefault();let n=r.changedTouches[0].pageY,a=e.scrollTop,s=e.scrollHeight-e.clientHeight;0!==s&&((a<=0&&n>t||a>=s&&n<t)&&r.preventDefault(),t=n)}),{passive:!1,capture:!0}),ue(document,"touchend",(e=>{let t=e.target;he(t)&&t!==document.activeElement&&(e.preventDefault(),t.style.transform="translateY(-2000px)",t.focus(),requestAnimationFrame((()=>{t.style.transform=""})))}),{passive:!1,capture:!0}),ue(document,"focus",(e=>{let t=e.target;he(t)&&(t.style.transform="translateY(-2000px)",requestAnimationFrame((()=>{t.style.transform="",se&&(se.height<window.innerHeight?requestAnimationFrame((()=>{me(t)})):se.addEventListener("resize",(()=>me(t)),{once:!0}))})))}),!0),ue(window,"scroll",(()=>{window.scrollTo(0,0)})));return()=>{a(),s(),window.scrollTo(r,n)}}()),()=>{ce--,0===ce&&(null==de||de())}}),[t])}({isDisabled:!O||M||!v||I||!F||!S||!N});const{restorePositionSetting:Te}=function({isOpen:e,modal:t,nested:r,hasBeenOpened:n,preventScrollRestoration:a,noBodyStyles:s}){const[i,o]=g.useState((()=>"undefined"!=typeof window?window.location.href:"")),l=g.useRef(0),d=g.useCallback((()=>{if(re()&&null===Ne&&e&&!s){Ne={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:e,innerHeight:t}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:-l.current+"px",left:-e+"px",right:"0px",height:"auto"}),window.setTimeout((()=>window.requestAnimationFrame((()=>{const e=t-window.innerHeight;e&&l.current>=t&&(document.body.style.top=-(l.current+e)+"px")}))),300)}}),[e]),c=g.useCallback((()=>{if(re()&&null!==Ne&&!s){const e=-parseInt(document.body.style.top,10),t=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Ne),window.requestAnimationFrame((()=>{a&&i!==window.location.href?o(window.location.href):window.scrollTo(t,e)})),Ne=null}}),[i]);return g.useEffect((()=>{function e(){l.current=window.scrollY}return e(),window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[]),g.useEffect((()=>{!r&&n&&(e?(!window.matchMedia("(display-mode: standalone)").matches&&d(),t||window.setTimeout((()=>{c()}),500)):c())}),[e,n,i,t,r,d,c]),{restorePositionSetting:c}}({isOpen:O,modal:v,nested:j,hasBeenOpened:F,preventScrollRestoration:k,noBodyStyles:y});function Pe(){return(window.innerWidth-26)/window.innerWidth}function De(e,t){var r,n;let a=e;const s=null==(r=window.getSelection())?void 0:r.toString(),i=Q.current?ve(Q.current,_):null,o=new Date;if(a.hasAttribute("data-vaul-no-drag")||a.closest("[data-vaul-no-drag]"))return!1;if("right"===_||"left"===_)return!0;if(L.current&&o.getTime()-L.current.getTime()<500)return!1;if(null!==i&&("bottom"===_?i>0:i<0))return!0;if(s&&s.length>0)return!1;if(o.getTime()-(null==(n=U.current)?void 0:n.getTime())<c&&0===i)return U.current=o,!1;if(t)return U.current=o,!1;for(;a;){if(a.scrollHeight>a.clientHeight){if(0!==a.scrollTop)return U.current=new Date,!1;if("dialog"===a.getAttribute("role"))return!0}a=a.parentNode}return!0}function Oe(e){M&&Q.current&&(Q.current.classList.remove(ye),V.current=!1,q(!1),W.current=new Date),null==w||w(),e||A(!1),setTimeout((()=>{s&&_e(s[0])}),1e3*je.DURATION)}function Ae(){if(!Q.current)return;const e=document.querySelector("[data-vaul-drawer-wrapper]"),t=ve(Q.current,_);ge(Q.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${je.DURATION}s cubic-bezier(${je.EASE.join(",")})`}),ge(z.current,{transition:`opacity ${je.DURATION}s cubic-bezier(${je.EASE.join(",")})`,opacity:"1"}),o&&t&&t>0&&O&&ge(e,{borderRadius:"8px",overflow:"hidden",...xe(_)?{transform:`scale(${Pe()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Pe()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${je.DURATION}s`,transitionTimingFunction:`cubic-bezier(${je.EASE.join(",")})`},!0)}return g.useEffect((()=>{var e;function t(){if(Q.current&&S&&(he(document.activeElement)||X.current)){var e;const t=(null==(e=window.visualViewport)?void 0:e.height)||0,r=window.innerHeight;let n=r-t;const a=Q.current.getBoundingClientRect().height||0,i=a>.8*r;ie.current||(ie.current=a);const o=Q.current.getBoundingClientRect().top;if(Math.abs(J.current-n)>60&&(X.current=!X.current),s&&s.length>0&&ke&&we&&(n+=ke[we]||0),J.current=n,a>t||X.current){const e=Q.current.getBoundingClientRect().height;let r=e;e>t&&(r=t-(i?o:26)),Q.current.style.height=x?e-Math.max(n,0)+"px":`${Math.max(r,t-o)}px`}else Q.current.style.height=`${ie.current}px`;s&&s.length>0&&!X.current?Q.current.style.bottom="0px":Q.current.style.bottom=`${Math.max(n,0)}px`}}return null==(e=window.visualViewport)||e.addEventListener("resize",t),()=>{var e;return null==(e=window.visualViewport)?void 0:e.removeEventListener("resize",t)}}),[we,s,ke]),g.useEffect((()=>(O&&(ge(document.documentElement,{scrollBehavior:"auto"}),L.current=new Date),()=>{!function(e,t){if(!(e&&e instanceof HTMLElement))return;let r=pe.get(e);r&&(e.style[t]=r[t])}(document.documentElement,"scrollBehavior")})),[O]),g.createElement(i,{defaultOpen:b,onOpenChange:e=>{(u||e)&&(e?$(!0):Oe(!0),A(e))},open:O},g.createElement(K.Provider,{value:{activeSnapPoint:fe,snapPoints:s,setActiveSnapPoint:_e,drawerRef:Q,overlayRef:z,onOpenChange:t,onPress:function(e){var t,r;(u||s)&&(Q.current&&!Q.current.contains(e.target)||(Z.current=(null==(t=Q.current)?void 0:t.getBoundingClientRect().height)||0,ae.current=(null==(r=Q.current)?void 0:r.getBoundingClientRect().width)||0,q(!0),H.current=new Date,ne()&&window.addEventListener("touchend",(()=>V.current=!1),{once:!0}),e.target.setPointerCapture(e.pointerId),G.current=xe(_)?e.pageY:e.pageX))},onRelease:function(e){if(!M||!Q.current)return;Q.current.classList.remove(ye),V.current=!1,q(!1),W.current=new Date;const t=ve(Q.current,_);if(!De(e.target,!1)||!t||Number.isNaN(t))return;if(null===H.current)return;const r=W.current.getTime()-H.current.getTime(),n=G.current-(xe(_)?e.pageY:e.pageX),i=Math.abs(n)/r;if(i>.05&&(B(!0),setTimeout((()=>{B(!1)}),200)),s)return Ce({draggedDistance:n*("bottom"===_||"right"===_?1:-1),closeDrawer:Oe,velocity:i,dismissible:u}),void(null==a||a(e,!0));if("bottom"===_||"right"===_?n>0:n<0)return Ae(),void(null==a||a(e,!0));if(i>.4)return Oe(),void(null==a||a(e,!1));var o;const l=Math.min(null!=(o=Q.current.getBoundingClientRect().height)?o:0,window.innerHeight);var c;const m=Math.min(null!=(c=Q.current.getBoundingClientRect().width)?c:0,window.innerWidth),h="left"===_||"right"===_;if(Math.abs(t)>=(h?m:l)*d)return Oe(),void(null==a||a(e,!1));null==a||a(e,!0),Ae()},onDrag:function(e){var t;if(Q.current&&M){const r="bottom"===_||"right"===_?1:-1,a=(G.current-(xe(_)?e.pageY:e.pageX))*r,i=a>0,l=s&&!u&&!i;if(l&&0===we)return;const d=Math.abs(a),c=document.querySelector("[data-vaul-drawer-wrapper]");let m=d/("bottom"===_||"top"===_?Z.current:ae.current);const f=Ee(d,i);if(null!==f&&(m=f),l&&m>=1)return;if(!V.current&&!De(e.target,i))return;if(Q.current.classList.add(ye),V.current=!0,ge(Q.current,{transition:"none"}),ge(z.current,{transition:"none"}),s&&Se({draggedDistance:a}),i&&!s){const e=(t=a,8*(Math.log(t+1)-2)),n=Math.min(-1*e,0)*r;return void ge(Q.current,{transform:xe(_)?`translate3d(0, ${n}px, 0)`:`translate3d(${n}px, 0, 0)`})}const p=1-m;if((Re||h&&we===h-1)&&(null==n||n(e,m),ge(z.current,{opacity:`${p}`,transition:"none"},!0)),c&&z.current&&o){const e=Math.min(Pe()+m*(1-Pe()),1),t=8-8*m,r=Math.max(0,14-14*m);ge(c,{borderRadius:`${t}px`,transform:xe(_)?`scale(${e}) translate3d(0, ${r}px, 0)`:`scale(${e}) translate3d(${r}px, 0, 0)`,transition:"none"},!0)}if(!s){const e=d*r;ge(Q.current,{transform:xe(_)?`translate3d(0, ${e}px, 0)`:`translate3d(${e}px, 0, 0)`})}}},dismissible:u,handleOnly:m,isOpen:O,isDragging:M,shouldFade:Re,closeDrawer:Oe,onNestedDrag:function(e,t){if(t<0)return;const r=(window.innerWidth-16)/window.innerWidth,n=r+t*(1-r),a=16*t-16;ge(Q.current,{transform:xe(_)?`scale(${n}) translate3d(0, ${a}px, 0)`:`scale(${n}) translate3d(${a}px, 0, 0)`,transition:"none"})},onNestedOpenChange:function(e){const t=e?(window.innerWidth-16)/window.innerWidth:1,r=e?-16:0;Y.current&&window.clearTimeout(Y.current),ge(Q.current,{transition:`transform ${je.DURATION}s cubic-bezier(${je.EASE.join(",")})`,transform:`scale(${t}) translate3d(0, ${r}px, 0)`}),!e&&Q.current&&(Y.current=setTimeout((()=>{const e=ve(Q.current,_);ge(Q.current,{transition:"none",transform:xe(_)?`translate3d(0, ${e}px, 0)`:`translate3d(${e}px, 0, 0)`})}),500))},onNestedRelease:function(e,t){const r=xe(_)?window.innerHeight:window.innerWidth,n=t?(r-16)/r:1,a=t?-16:0;t&&ge(Q.current,{transition:`transform ${je.DURATION}s cubic-bezier(${je.EASE.join(",")})`,transform:xe(_)?`scale(${n}) translate3d(0, ${a}px, 0)`:`scale(${n}) translate3d(${a}px, 0, 0)`})},keyboardIsOpen:X,modal:v,snapPointsOffset:ke,direction:_,shouldScaleBackground:o,setBackgroundColorOnScale:l,noBodyStyles:y,container:E,autoFocus:T}},r))}const ke=g.forwardRef((function({...t},r){const{overlayRef:n,snapPoints:a,onRelease:s,shouldFade:i,isOpen:o,modal:l}=Z(),d=fe(r,n),c=a&&a.length>0;return l?g.createElement(e,{onMouseUp:s,ref:d,"data-vaul-overlay":"","data-vaul-snap-points":o&&c?"true":"false","data-vaul-snap-points-overlay":o&&i?"true":"false",...t}):("undefined"!=typeof window&&window.requestAnimationFrame((()=>{document.body.style.pointerEvents="auto"})),null)}));ke.displayName="Drawer.Overlay";const Se=g.forwardRef((function({onPointerDownOutside:e,style:r,onOpenAutoFocus:n,...a},s){const{drawerRef:i,onPress:o,onRelease:l,onDrag:d,keyboardIsOpen:c,snapPointsOffset:u,modal:m,isOpen:h,direction:f,snapPoints:p,container:v,handleOnly:w,autoFocus:j}=Z(),[y,_]=g.useState(!1),b=fe(s,i),N=g.useRef(null),C=g.useRef(null),k=g.useRef(!1),S=p&&p.length>0;function R(e){N.current=null,k.current=!1,l(e)}return function(){const{direction:e,isOpen:t,shouldScaleBackground:r,setBackgroundColorOnScale:n,noBodyStyles:a}=Z(),s=g.useRef(null),i=x.useMemo((()=>document.body.style.backgroundColor),[]);function o(){return(window.innerWidth-26)/window.innerWidth}g.useEffect((()=>{if(t&&r){s.current&&clearTimeout(s.current);const t=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!t)return;n&&!a&&we(document.body,{background:"black"}),we(t,{transformOrigin:xe(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${je.DURATION}s`,transitionTimingFunction:`cubic-bezier(${je.EASE.join(",")})`});const r=we(t,{borderRadius:"8px",overflow:"hidden",...xe(e)?{transform:`scale(${o()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${o()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{r(),s.current=window.setTimeout((()=>{i?document.body.style.background=i:document.body.style.removeProperty("background")}),1e3*je.DURATION)}}}),[t,r,i])}(),g.useEffect((()=>{S&&window.requestAnimationFrame((()=>{_(!0)}))}),[]),g.createElement(t,{"data-vaul-drawer-direction":f,"data-vaul-drawer":"","data-vaul-delayed-snap-points":y?"true":"false","data-vaul-snap-points":h&&S?"true":"false","data-vaul-custom-container":v?"true":"false",...a,ref:b,style:u&&u.length>0?{"--snap-point-height":`${u[0]}px`,...r}:r,onPointerDown:e=>{w||(null==a.onPointerDown||a.onPointerDown.call(a,e),N.current={x:e.pageX,y:e.pageY},o(e))},onOpenAutoFocus:e=>{null==n||n(e),j||e.preventDefault()},onPointerDownOutside:t=>{null==e||e(t),m&&!t.defaultPrevented?c.current&&(c.current=!1):t.preventDefault()},onFocusOutside:e=>{m||e.preventDefault()},onPointerMove:e=>{if(C.current=e,w)return;if(null==a.onPointerMove||a.onPointerMove.call(a,e),!N.current)return;const t=e.pageY-N.current.y,r=e.pageX-N.current.x,n="touch"===e.pointerType?10:2;((e,t,r=0)=>{if(k.current)return!0;const n=Math.abs(e.y),a=Math.abs(e.x),s=a>n,i=["bottom","right"].includes(t)?1:-1;if("left"===t||"right"===t){if(!(e.x*i<0)&&a>=0&&a<=r)return s}else if(!(e.y*i<0)&&n>=0&&n<=r)return!s;return k.current=!0,!0})({x:r,y:t},f,n)?d(e):(Math.abs(r)>n||Math.abs(t)>n)&&(N.current=null)},onPointerUp:e=>{null==a.onPointerUp||a.onPointerUp.call(a,e),N.current=null,k.current=!1,l(e)},onPointerOut:e=>{null==a.onPointerOut||a.onPointerOut.call(a,e),R(C.current)},onContextMenu:e=>{null==a.onContextMenu||a.onContextMenu.call(a,e),R(C.current)}})}));Se.displayName="Drawer.Content";const Re=g.forwardRef((function({preventCycle:e=!1,children:t,...r},n){const{closeDrawer:a,isDragging:s,snapPoints:i,activeSnapPoint:o,setActiveSnapPoint:l,dismissible:d,handleOnly:c,isOpen:u,onPress:m,onDrag:h}=Z(),f=g.useRef(null),p=g.useRef(!1);function x(){window.clearTimeout(f.current),p.current=!1}return g.createElement("div",{onClick:function(){p.current?x():window.setTimeout((()=>{!function(){if(s||e||p.current)return void x();if(x(),(!i||0===i.length)&&d)return void a();if(o===i[i.length-1]&&d)return void a();const t=i.findIndex((e=>e===o));if(-1===t)return;const r=i[t+1];l(r)}()}),120)},onPointerCancel:x,onPointerDown:e=>{c&&m(e),f.current=window.setTimeout((()=>{p.current=!0}),250)},onPointerMove:e=>{c&&h(e)},ref:n,"data-vaul-drawer-visible":u?"true":"false","data-vaul-handle":"","aria-hidden":"true",...r},g.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))}));Re.displayName="Drawer.Handle";const Ee={Root:Ce,NestedRoot:function({onDrag:e,onOpenChange:t,...r}){const{onNestedDrag:n,onNestedOpenChange:a,onNestedRelease:s}=Z();if(!n)throw new Error("Drawer.NestedRoot must be placed in another drawer");return g.createElement(Ce,{nested:!0,onClose:()=>{a(!1)},onDrag:(t,r)=>{n(t,r),null==e||e(t,r)},onOpenChange:e=>{e&&a(e)},onRelease:s,...r})},Content:Se,Overlay:ke,Trigger:r,Portal:function(e){const t=Z(),{container:r=t.container,...n}=e;return g.createElement(o,{container:r,...n})},Handle:Re,Close:n,Title:a,Description:s},Te=({shouldScaleBackground:e=!0,...t})=>l.jsx(Ee.Root,{shouldScaleBackground:e,...t});Te.displayName="Drawer";const Pe=Ee.Portal,De=Ee.Close,Oe=x.forwardRef((({className:e,...t},r)=>l.jsx(Ee.Overlay,{ref:r,className:M("fixed inset-0 z-50 bg-black/80",e),...t})));Oe.displayName=Ee.Overlay.displayName;const Ae=x.forwardRef((({className:e,children:t,...r},n)=>l.jsxs(Pe,{children:[l.jsx(Oe,{}),l.jsxs(Ee.Content,{ref:n,className:M("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...r,children:[l.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]})));Ae.displayName="DrawerContent";const Fe=({className:e,...t})=>l.jsx("div",{className:M("grid gap-1.5 p-4 text-center sm:text-left",e),...t});Fe.displayName="DrawerHeader";const $e=({className:e,...t})=>l.jsx("div",{className:M("mt-auto flex flex-col gap-2 p-4",e),...t});$e.displayName="DrawerFooter";const Me=x.forwardRef((({className:e,...t},r)=>l.jsx(Ee.Title,{ref:r,className:M("text-lg font-semibold leading-none tracking-tight",e),...t})));Me.displayName=Ee.Title.displayName;const qe=x.forwardRef((({className:e,...t},r)=>l.jsx(Ee.Description,{ref:r,className:M("text-sm text-muted-foreground",e),...t})));qe.displayName=Ee.Description.displayName;const Ie={title_en:"Jersey Gallery",title_tr:"Forma Galerisi",description_en:"Browse our collection of high-quality custom jerseys for your team.",description_tr:"Takımınız için yüksek kaliteli özel formaları keşfedin.",items_per_page:12,show_search:!0,show_filters:!0,default_filter_view:"expanded",show_price:!0,show_min_order:!0,show_stock_status:!0,show_delivery_time:!0,delivery_time_text_en:"2-3 business days delivery",delivery_time_text_tr:"2-3 iş gününde teslim",layout_type:"grid",sort_order:"newest"},Be=()=>{const{t:e,language:t}=d(),[r,n]=x.useState(null),[a,s]=x.useState(!0),[i,o]=x.useState(!1),h=V({defaultValues:Ie});return x.useEffect((()=>{(async()=>{try{s(!0);const{data:t,error:r}=await u.from("gallery_settings").select("*").single();if(r&&"PGRST116"!==r.code)return void m.error(e("error_fetching_settings")||"Error fetching gallery settings");t?(n(t),h.reset(t)):n(Ie)}catch(t){m.error(e("error_fetching_settings")||"Error fetching gallery settings")}finally{s(!1)}})()}),[e,h]),a?l.jsx("div",{className:"flex justify-center items-center h-48",children:l.jsx(c,{className:"h-8 w-8 animate-spin text-primary"})}):l.jsxs(v,{children:[l.jsxs(w,{children:[l.jsx(j,{children:e("gallery_advanced_configuration")||"Advanced Gallery Configuration"}),l.jsx(y,{children:e("gallery_configuration_description")||"Customize how your gallery page appears and functions"})]}),l.jsx(_,{children:l.jsx(I,{...h,children:l.jsxs("form",{onSubmit:h.handleSubmit((async t=>{try{if(o(!0),r&&r.id){const{error:e}=await u.from("gallery_settings").update(t).eq("id",r.id);if(e)throw e}else{const{error:e}=await u.from("gallery_settings").insert([t]);if(e)throw e}m.success(e("settings_saved")||"Gallery settings saved successfully");const{data:a,error:s}=await u.from("gallery_settings").select("*").single();if(s)throw s;a&&(n(a),h.reset(a))}catch(a){m.error(e("error_saving_settings")||"Error saving gallery settings")}finally{o(!1)}})),className:"space-y-6",children:[l.jsxs(S,{defaultValue:"general",children:[l.jsxs(R,{className:"mb-4",children:[l.jsx(E,{value:"general",children:e("general")||"General"}),l.jsx(E,{value:"display",children:e("display_options")||"Display Options"}),l.jsx(E,{value:"product_info",children:e("product_information")||"Product Information"})]}),l.jsxs(T,{value:"general",className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(B,{control:h.control,name:"title_en",render:({field:t})=>l.jsxs(z,{children:[l.jsxs(L,{children:[e("title")||"Title"," (EN)"]}),l.jsx(H,{children:l.jsx(N,{...t})}),l.jsx(W,{})]})}),l.jsx(B,{control:h.control,name:"title_tr",render:({field:t})=>l.jsxs(z,{children:[l.jsxs(L,{children:[e("title")||"Title"," (TR)"]}),l.jsx(H,{children:l.jsx(N,{...t})}),l.jsx(W,{})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(B,{control:h.control,name:"description_en",render:({field:t})=>l.jsxs(z,{children:[l.jsxs(L,{children:[e("description")||"Description"," (EN)"]}),l.jsx(H,{children:l.jsx(q,{rows:3,...t})}),l.jsx(W,{})]})}),l.jsx(B,{control:h.control,name:"description_tr",render:({field:t})=>l.jsxs(z,{children:[l.jsxs(L,{children:[e("description")||"Description"," (TR)"]}),l.jsx(H,{children:l.jsx(q,{rows:3,...t})}),l.jsx(W,{})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(B,{control:h.control,name:"items_per_page",render:({field:t})=>l.jsxs(z,{children:[l.jsx(L,{children:e("items_per_page")||"Items Per Page"}),l.jsx(H,{children:l.jsx(N,{type:"number",min:4,max:48,...t,onChange:e=>t.onChange(parseInt(e.target.value))})}),l.jsx(W,{})]})}),l.jsx(B,{control:h.control,name:"sort_order",render:({field:t})=>l.jsxs(z,{children:[l.jsx(L,{children:e("default_sort_order")||"Default Sort Order"}),l.jsxs(Y,{onValueChange:t.onChange,defaultValue:t.value,children:[l.jsx(H,{children:l.jsx(G,{children:l.jsx(X,{placeholder:e("select_sort_order")||"Select sort order"})})}),l.jsxs(J,{children:[l.jsx(Q,{value:"newest",children:e("newest_first")||"Newest First"}),l.jsx(Q,{value:"price_low",children:e("price_low_to_high")||"Price: Low to High"}),l.jsx(Q,{value:"price_high",children:e("price_high_to_low")||"Price: High to Low"}),l.jsx(Q,{value:"display_order",children:e("display_order")||"Display Order"})]})]}),l.jsx(W,{})]})})]})]}),l.jsxs(T,{value:"display",className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(B,{control:h.control,name:"layout_type",render:({field:t})=>l.jsxs(z,{children:[l.jsx(L,{children:e("layout_type")||"Layout Type"}),l.jsxs(Y,{onValueChange:t.onChange,defaultValue:t.value,children:[l.jsx(H,{children:l.jsx(G,{children:l.jsx(X,{placeholder:e("select_layout")||"Select layout"})})}),l.jsxs(J,{children:[l.jsx(Q,{value:"grid",children:e("grid")||"Grid"}),l.jsx(Q,{value:"list",children:e("list")||"List"}),l.jsx(Q,{value:"masonry",children:e("masonry")||"Masonry"})]})]}),l.jsx(W,{})]})}),l.jsx(B,{control:h.control,name:"default_filter_view",render:({field:t})=>l.jsxs(z,{children:[l.jsx(L,{children:e("default_filter_view")||"Default Filter View"}),l.jsxs(Y,{onValueChange:t.onChange,defaultValue:t.value,children:[l.jsx(H,{children:l.jsx(G,{children:l.jsx(X,{placeholder:e("select_filter_view")||"Select filter view"})})}),l.jsxs(J,{children:[l.jsx(Q,{value:"expanded",children:e("expanded")||"Expanded"}),l.jsx(Q,{value:"collapsed",children:e("collapsed")||"Collapsed"})]})]}),l.jsx(W,{})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(B,{control:h.control,name:"show_search",render:({field:t})=>l.jsxs(z,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(L,{className:"text-base",children:e("show_search")||"Show Search"}),l.jsx(U,{children:e("show_search_description")||"Display search bar in gallery"})]}),l.jsx(H,{children:l.jsx(k,{checked:t.value,onCheckedChange:t.onChange})})]})}),l.jsx(B,{control:h.control,name:"show_filters",render:({field:t})=>l.jsxs(z,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(L,{className:"text-base",children:e("show_filters")||"Show Filters"}),l.jsx(U,{children:e("show_filters_description")||"Display filter options in gallery"})]}),l.jsx(H,{children:l.jsx(k,{checked:t.value,onCheckedChange:t.onChange})})]})})]})]}),l.jsxs(T,{value:"product_info",className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(B,{control:h.control,name:"show_price",render:({field:t})=>l.jsxs(z,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(L,{className:"text-base",children:e("show_price")||"Show Price"}),l.jsx(U,{children:e("show_price_description")||"Display product price in gallery"})]}),l.jsx(H,{children:l.jsx(k,{checked:t.value,onCheckedChange:t.onChange})})]})}),l.jsx(B,{control:h.control,name:"show_min_order",render:({field:t})=>l.jsxs(z,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(L,{className:"text-base",children:e("show_min_order")||"Show Minimum Order"}),l.jsx(U,{children:e("show_min_order_description")||"Display minimum order quantity"})]}),l.jsx(H,{children:l.jsx(k,{checked:t.value,onCheckedChange:t.onChange})})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(B,{control:h.control,name:"show_stock_status",render:({field:t})=>l.jsxs(z,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(L,{className:"text-base",children:e("show_stock_status")||"Show Stock Status"}),l.jsx(U,{children:e("show_stock_status_description")||"Display product stock status"})]}),l.jsx(H,{children:l.jsx(k,{checked:t.value,onCheckedChange:t.onChange})})]})}),l.jsx(B,{control:h.control,name:"show_delivery_time",render:({field:t})=>l.jsxs(z,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(L,{className:"text-base",children:e("show_delivery_time")||"Show Delivery Time"}),l.jsx(U,{children:e("show_delivery_time_description")||"Display delivery time information"})]}),l.jsx(H,{children:l.jsx(k,{checked:t.value,onCheckedChange:t.onChange})})]})})]}),h.watch("show_delivery_time")&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(B,{control:h.control,name:"delivery_time_text_en",render:({field:t})=>l.jsxs(z,{children:[l.jsxs(L,{children:[e("delivery_time_text")||"Delivery Time Text"," (EN)"]}),l.jsx(H,{children:l.jsx(N,{...t})}),l.jsx(W,{})]})}),l.jsx(B,{control:h.control,name:"delivery_time_text_tr",render:({field:t})=>l.jsxs(z,{children:[l.jsxs(L,{children:[e("delivery_time_text")||"Delivery Time Text"," (TR)"]}),l.jsx(H,{children:l.jsx(N,{...t})}),l.jsx(W,{})]})})]})]})]}),l.jsxs(b,{type:"submit",disabled:i,className:"w-full md:w-auto",children:[i&&l.jsx(c,{className:"mr-2 h-4 w-4 animate-spin"}),e("save_settings")||"Save Settings"]})]})})})]})},ze=()=>{const{t:e,language:t}=d(),[r,n]=x.useState("advanced-config"),[a,s]=x.useState([]),[i,o]=x.useState([]),[g,y]=x.useState([]),[M,q]=x.useState([]),[I,B]=x.useState(!0),[z,L]=x.useState(!1),[H,W]=x.useState(!1),[U,V]=x.useState(null),[Y,G]=x.useState("");x.useEffect((()=>{(async()=>{B(!0);try{const{data:e,error:t}=await u.from("jersey_types").select("*").order("created_at",{ascending:!1});if(t)throw t;s(e||[]);const{data:r,error:n}=await u.from("price_ranges").select("*").order("min",{ascending:!0});if(n)throw n;o(r||[]);const{data:a,error:i}=await u.from("order_quantities").select("*").order("value",{ascending:!0});if(i)throw i;y(a||[]);const{data:l,error:d}=await u.from("jersey_colors").select("*").order("name",{ascending:!0});if(d)throw d;q(l||[])}catch(t){m.error(e("error_fetching_settings")||"Error fetching settings")}finally{B(!1)}})()}),[e]);const X=(e,t)=>{V({...e}),G(t),W(!0)},J=e=>{let t={};switch(e){case"jersey-types":t={name:"",name_tr:"",is_active:!0};break;case"price-ranges":t={min:0,max:100,is_default:!1};break;case"order-quantities":t={value:10,is_default:!1};break;case"colors":t={name:"",name_tr:"",hex_code:"#000000",is_active:!0}}V(t),G(e),W(!0)},Q=async(t,r)=>{if(!t)return;if(!window.confirm(e("confirm_delete")||"Are you sure you want to delete this item?"))return;let n;switch(r){case"jersey-types":n="jersey_types";break;case"price-ranges":n="price_ranges";break;case"order-quantities":n="order_quantities";break;case"colors":n="jersey_colors";break;default:return}try{const{error:r}=await u.from(n).delete().eq("id",t);if(r)throw r;m.success(e("item_deleted_successfully")||"Item deleted successfully");const a=async()=>{let e;switch(n){case"jersey_types":if(e=await u.from("jersey_types").select("*").order("created_at",{ascending:!1}),e.error)throw e.error;s(e.data);break;case"price_ranges":if(e=await u.from("price_ranges").select("*").order("min",{ascending:!0}),e.error)throw e.error;o(e.data);break;case"order_quantities":if(e=await u.from("order_quantities").select("*").order("value",{ascending:!0}),e.error)throw e.error;y(e.data);break;case"jersey_colors":if(e=await u.from("jersey_colors").select("*").order("name",{ascending:!0}),e.error)throw e.error;q(e.data)}};await a()}catch(a){m.error(e("error_deleting_item")||"Error deleting item")}},K=async(t,r)=>{let n;switch(r){case"jersey-types":n="jersey_types";break;case"colors":n="jersey_colors";break;default:return}try{const{error:r}=await u.from(n).update({is_active:!t.is_active}).eq("id",t.id);if(r)throw r;m.success(e(t.is_active?"item_deactivated":"item_activated")||(t.is_active?"Item deactivated":"Item activated"));const a=async()=>{let e;if("jersey_types"===n){if(e=await u.from("jersey_types").select("*").order("created_at",{ascending:!1}),e.error)throw e.error;s(e.data)}else if("jersey_colors"===n){if(e=await u.from("jersey_colors").select("*").order("name",{ascending:!0}),e.error)throw e.error;q(e.data)}};await a()}catch(a){m.error(e("error_updating_item")||"Error updating item")}},Z=async(t,r)=>{let n;switch(r){case"price-ranges":n="price_ranges";break;case"order-quantities":n="order_quantities";break;default:return}try{const{error:r}=await u.from(n).update({is_default:!1}).neq("id","0");if(r)throw r;const{error:a}=await u.from(n).update({is_default:!0}).eq("id",t.id);if(a)throw a;m.success(e("default_value_updated")||"Default value updated");const s=async()=>{let e;if("price_ranges"===n){if(e=await u.from("price_ranges").select("*").order("min",{ascending:!0}),e.error)throw e.error;o(e.data)}else if("order_quantities"===n){if(e=await u.from("order_quantities").select("*").order("value",{ascending:!0}),e.error)throw e.error;y(e.data)}};await s()}catch(a){m.error(e("error_updating_default_value")||"Error updating default value")}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs(v,{children:[l.jsx(w,{children:l.jsx(j,{children:e("gallery_settings")||"Gallery Settings"})}),l.jsx(_,{children:l.jsxs(S,{value:r,onValueChange:n,children:[l.jsxs(R,{className:"mb-4",children:[l.jsx(E,{value:"advanced-config",children:e("advanced_configuration")||"Advanced Configuration"}),l.jsx(E,{value:"jersey-types",children:e("jersey_types")||"Jersey Types"}),l.jsx(E,{value:"price-ranges",children:e("price_ranges")||"Price Ranges"}),l.jsx(E,{value:"order-quantities",children:e("order_quantities")||"Order Quantities"}),l.jsx(E,{value:"colors",children:e("colors")||"Colors"})]}),I?l.jsx("div",{className:"flex justify-center items-center h-48",children:l.jsx(c,{className:"h-8 w-8 animate-spin text-primary"})}):l.jsxs(l.Fragment,{children:[l.jsx(T,{value:"advanced-config",children:l.jsx(Be,{})}),l.jsxs(T,{value:"jersey-types",children:[l.jsx("div",{className:"flex justify-end mb-4",children:l.jsxs(b,{onClick:()=>J("jersey-types"),children:[l.jsx(h,{className:"h-4 w-4 mr-2"}),e("add_jersey_type")||"Add Jersey Type"]})}),l.jsxs(P,{children:[l.jsx(D,{children:l.jsxs(O,{children:[l.jsxs(A,{children:[e("name")||"Name"," (EN)"]}),l.jsxs(A,{children:[e("name")||"Name"," (TR)"]}),l.jsx(A,{children:e("status")||"Status"}),l.jsx(A,{className:"text-right",children:e("actions")||"Actions"})]})}),l.jsx(F,{children:a.length>0?a.map((t=>l.jsxs(O,{children:[l.jsx($,{children:t.name}),l.jsx($,{children:t.name_tr}),l.jsx($,{children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(k,{checked:t.is_active,onCheckedChange:()=>K(t,"jersey-types"),className:"mr-2"}),l.jsx("span",{children:t.is_active?e("active")||"Active":e("inactive")||"Inactive"})]})}),l.jsxs($,{className:"text-right",children:[l.jsx(b,{variant:"ghost",size:"sm",onClick:()=>X(t,"jersey-types"),children:l.jsx(f,{className:"h-4 w-4"})}),l.jsx(b,{variant:"ghost",size:"sm",onClick:()=>Q(t.id,"jersey-types"),children:l.jsx(p,{className:"h-4 w-4 text-destructive"})})]})]},t.id))):l.jsx(O,{children:l.jsx($,{colSpan:4,className:"text-center",children:e("no_jersey_types_found")||"No jersey types found"})})})]})]}),l.jsxs(T,{value:"price-ranges",children:[l.jsx("div",{className:"flex justify-end mb-4",children:l.jsxs(b,{onClick:()=>J("price-ranges"),children:[l.jsx(h,{className:"h-4 w-4 mr-2"}),e("add_price_range")||"Add Price Range"]})}),l.jsxs(P,{children:[l.jsx(D,{children:l.jsxs(O,{children:[l.jsx(A,{children:e("min_price")||"Min Price"}),l.jsx(A,{children:e("max_price")||"Max Price"}),l.jsx(A,{children:e("default")||"Default"}),l.jsx(A,{className:"text-right",children:e("actions")||"Actions"})]})}),l.jsx(F,{children:i.length>0?i.map((t=>l.jsxs(O,{children:[l.jsxs($,{children:["$",t.min]}),l.jsxs($,{children:["$",t.max]}),l.jsx($,{children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(k,{checked:t.is_default,onCheckedChange:()=>Z(t,"price-ranges"),className:"mr-2",disabled:t.is_default}),l.jsx("span",{children:t.is_default?e("yes")||"Yes":e("no")||"No"})]})}),l.jsxs($,{className:"text-right",children:[l.jsx(b,{variant:"ghost",size:"sm",onClick:()=>X(t,"price-ranges"),children:l.jsx(f,{className:"h-4 w-4"})}),l.jsx(b,{variant:"ghost",size:"sm",onClick:()=>Q(t.id,"price-ranges"),children:l.jsx(p,{className:"h-4 w-4 text-destructive"})})]})]},t.id))):l.jsx(O,{children:l.jsx($,{colSpan:4,className:"text-center",children:e("no_price_ranges_found")||"No price ranges found"})})})]})]}),l.jsxs(T,{value:"order-quantities",children:[l.jsx("div",{className:"flex justify-end mb-4",children:l.jsxs(b,{onClick:()=>J("order-quantities"),children:[l.jsx(h,{className:"h-4 w-4 mr-2"}),e("add_order_quantity")||"Add Order Quantity"]})}),l.jsxs(P,{children:[l.jsx(D,{children:l.jsxs(O,{children:[l.jsx(A,{children:e("quantity")||"Quantity"}),l.jsx(A,{children:e("default")||"Default"}),l.jsx(A,{className:"text-right",children:e("actions")||"Actions"})]})}),l.jsx(F,{children:g.length>0?g.map((t=>l.jsxs(O,{children:[l.jsx($,{children:t.value}),l.jsx($,{children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(k,{checked:t.is_default,onCheckedChange:()=>Z(t,"order-quantities"),className:"mr-2",disabled:t.is_default}),l.jsx("span",{children:t.is_default?e("yes")||"Yes":e("no")||"No"})]})}),l.jsxs($,{className:"text-right",children:[l.jsx(b,{variant:"ghost",size:"sm",onClick:()=>X(t,"order-quantities"),children:l.jsx(f,{className:"h-4 w-4"})}),l.jsx(b,{variant:"ghost",size:"sm",onClick:()=>Q(t.id,"order-quantities"),children:l.jsx(p,{className:"h-4 w-4 text-destructive"})})]})]},t.id))):l.jsx(O,{children:l.jsx($,{colSpan:3,className:"text-center",children:e("no_order_quantities_found")||"No order quantities found"})})})]})]}),l.jsxs(T,{value:"colors",children:[l.jsx("div",{className:"flex justify-end mb-4",children:l.jsxs(b,{onClick:()=>J("colors"),children:[l.jsx(h,{className:"h-4 w-4 mr-2"}),e("add_color")||"Add Color"]})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:M.length>0?M.map((e=>l.jsx(v,{children:l.jsx(_,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-full border",style:{backgroundColor:e.hex_code}}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-medium",children:"en"===t?e.name:e.name_tr}),l.jsx("p",{className:"text-sm text-muted-foreground",children:e.hex_code})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(k,{checked:e.is_active,onCheckedChange:()=>K(e,"colors"),className:"mr-2"}),l.jsx(b,{variant:"ghost",size:"sm",onClick:()=>X(e,"colors"),children:l.jsx(f,{className:"h-4 w-4"})}),l.jsx(b,{variant:"ghost",size:"sm",onClick:()=>Q(e.id,"colors"),children:l.jsx(p,{className:"h-4 w-4 text-destructive"})})]})]})})},e.id))):l.jsx("div",{className:"col-span-full text-center py-8",children:e("no_colors_found")||"No colors found"})})]})]})]})})]}),l.jsx(Te,{open:H,onOpenChange:W,children:l.jsxs(Ae,{children:[l.jsxs(Fe,{children:[l.jsx(Me,{children:(null==U?void 0:U.id)?e("edit_item")||"Edit Item":e("add_item")||"Add Item"}),l.jsx(qe,{children:e("make_changes_below")||"Make changes to the item below."})]}),l.jsx("div",{className:"px-4 py-2",children:(()=>{if(!U)return null;switch(Y){case"jersey-types":return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-4",children:[l.jsx(C,{htmlFor:"name",children:"Name (English)"}),l.jsx(N,{id:"name",value:U.name||"",onChange:e=>V({...U,name:e.target.value}),placeholder:"Basketball Jersey"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx(C,{htmlFor:"name_tr",children:"Name (Turkish)"}),l.jsx(N,{id:"name_tr",value:U.name_tr||"",onChange:e=>V({...U,name_tr:e.target.value}),placeholder:"Basketbol Forması"})]}),l.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[l.jsx(k,{id:"is_active",checked:U.is_active,onCheckedChange:e=>V({...U,is_active:e})}),l.jsx(C,{htmlFor:"is_active",children:"Active"})]})]});case"price-ranges":return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-4",children:[l.jsx(C,{htmlFor:"min",children:"Minimum Price ($)"}),l.jsx(N,{id:"min",type:"number",value:U.min||0,onChange:e=>V({...U,min:parseFloat(e.target.value)}),min:0})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx(C,{htmlFor:"max",children:"Maximum Price ($)"}),l.jsx(N,{id:"max",type:"number",value:U.max||100,onChange:e=>V({...U,max:parseFloat(e.target.value)}),min:0})]})]});case"order-quantities":return l.jsxs("div",{className:"mb-4",children:[l.jsx(C,{htmlFor:"value",children:"Quantity"}),l.jsx(N,{id:"value",type:"number",value:U.value||10,onChange:e=>V({...U,value:parseInt(e.target.value)}),min:1})]});case"colors":return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-4",children:[l.jsx(C,{htmlFor:"name",children:"Color Name (English)"}),l.jsx(N,{id:"name",value:U.name||"",onChange:e=>V({...U,name:e.target.value}),placeholder:"Red"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx(C,{htmlFor:"name_tr",children:"Color Name (Turkish)"}),l.jsx(N,{id:"name_tr",value:U.name_tr||"",onChange:e=>V({...U,name_tr:e.target.value}),placeholder:"Kırmızı"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx(C,{htmlFor:"hex_code",children:"Color Code"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(N,{id:"hex_code",value:U.hex_code||"#000000",onChange:e=>V({...U,hex_code:e.target.value}),placeholder:"#FF0000"}),l.jsx("input",{type:"color",value:U.hex_code||"#000000",onChange:e=>V({...U,hex_code:e.target.value}),className:"w-10 h-10 rounded border"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[l.jsx(k,{id:"is_active",checked:U.is_active,onCheckedChange:e=>V({...U,is_active:e})}),l.jsx(C,{htmlFor:"is_active",children:"Active"})]})]});default:return null}})()}),l.jsxs($e,{children:[l.jsxs(b,{onClick:async()=>{if(!U)return;let t;switch(L(!0),Y){case"jersey-types":t="jersey_types";break;case"price-ranges":t="price_ranges";break;case"order-quantities":t="order_quantities";break;case"colors":t="jersey_colors";break;default:return void L(!1)}try{if(U.id){const{error:r}=await u.from(t).update(U).eq("id",U.id);if(r)throw r;m.success(e("item_updated_successfully")||"Item updated successfully")}else{const{error:r}=await u.from(t).insert(U);if(r)throw r;m.success(e("item_added_successfully")||"Item added successfully")}const r=async()=>{let e;switch(t){case"jersey_types":if(e=await u.from("jersey_types").select("*").order("created_at",{ascending:!1}),e.error)throw e.error;s(e.data);break;case"price_ranges":if(e=await u.from("price_ranges").select("*").order("min",{ascending:!0}),e.error)throw e.error;o(e.data);break;case"order_quantities":if(e=await u.from("order_quantities").select("*").order("value",{ascending:!0}),e.error)throw e.error;y(e.data);break;case"jersey_colors":if(e=await u.from("jersey_colors").select("*").order("name",{ascending:!0}),e.error)throw e.error;q(e.data)}};await r(),W(!1)}catch(r){m.error(e("error_saving_item")||"Error saving item")}finally{L(!1)}},disabled:z,children:[z&&l.jsx(c,{className:"mr-2 h-4 w-4 animate-spin"}),e("save_changes")||"Save Changes"]}),l.jsx(De,{asChild:!0,children:l.jsx(b,{variant:"outline",children:e("cancel")||"Cancel"})})]})]})})]})};export{ze as default};
