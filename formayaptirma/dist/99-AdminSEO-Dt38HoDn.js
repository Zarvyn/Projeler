import{n as e,s,J as t,j as i,au as a,a7 as r,aU as l}from"./03-hero-critical-BKzCa96P.js";import{r as n}from"./01-react-core-DCvPBpDR.js";import{B as o,C as d,g as c,h as m,f as j}from"./04-ui-components-DpbmxBFV.js";import{I as x}from"./05-admin-bundle-BW3OFzIa.js";import{T as h}from"./99-textarea-BOZk7JoE.js";import{F as p,a as _,b as f,c as y,d as u,f as g,e as k}from"./99-form-BQypkM9v.js";import{u as w}from"./99-index.esm-2mfLcUez.js";import{z as b,t as S}from"./99-zod-D0J4YnXH.js";import{T as v,a as N,b as E}from"./99-tabs-CCs0hPp1.js";import"./02-react-router-l50u7dmW.js";import"./06-utils-QQqVvbBo.js";import"./99-label-DtO75rKq.js";import"./99-index-CxCer4qO.js";const A=b.object({site_title:b.string().optional(),site_description:b.string().optional(),meta_title:b.string().optional(),meta_description:b.string().optional(),keywords:b.string().optional()}),O=()=>{const{t:b}=e(),[O,B]=n.useState("general"),[C,F]=n.useState(!0),[K,M]=n.useState(!1),[V,z]=n.useState({}),G=w({resolver:S(A),defaultValues:{site_title:"",site_description:"",meta_title:"",meta_description:"",keywords:""}});n.useEffect((()=>{T()}),[]),n.useEffect((()=>{if(V[O]){const e=V[O];G.reset({site_title:e.site_title||"",site_description:e.site_description||"",meta_title:e.meta_title||"",meta_description:e.meta_description||"",keywords:e.keywords||""})}}),[O,V]);const T=async()=>{F(!0);try{const{data:e,error:t}=await s.from("seo_settings").select("*");if(t)throw t;const i={};e&&e.forEach((e=>{i[e.id]=e})),z(i)}catch(e){t.error(e.message||"SEO ayarları yüklenirken bir hata oluştu")}finally{F(!1)}},q=[{id:"general",name:b("general")||"Genel"},{id:"home",name:b("homepage")||"Ana Sayfa"},{id:"products",name:b("products")||"Ürünler"},{id:"blog",name:b("blog")||"Blog"}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h2",{className:"text-xl font-bold",children:b("seo_settings_title")||"SEO Ayarları"}),i.jsxs(o,{variant:"outline",onClick:T,disabled:C,children:[i.jsx(a,{className:"mr-2 h-4 w-4 "+(C?"animate-spin":"")}),b("refresh")||"Yenile"]})]}),i.jsxs(d,{children:[i.jsx(c,{children:i.jsx(m,{children:b("seo_settings")||"SEO Ayarları"})}),i.jsx(j,{children:C?i.jsx("div",{className:"flex justify-center py-8",children:i.jsx(r,{className:"h-8 w-8 animate-spin text-primary"})}):i.jsxs(v,{value:O,onValueChange:B,children:[i.jsx(N,{className:"mb-6",children:q.map((e=>i.jsx(E,{value:e.id,children:e.name},e.id)))}),i.jsx(p,{...G,children:i.jsxs("form",{onSubmit:G.handleSubmit((async e=>{M(!0);try{const{error:i}=await s.from("seo_settings").update({site_title:e.site_title,site_description:e.site_description,meta_title:e.meta_title,meta_description:e.meta_description,keywords:e.keywords}).eq("id",O);if(i)throw i;z((s=>({...s,[O]:{...s[O],site_title:e.site_title||null,site_description:e.site_description||null,meta_title:e.meta_title||null,meta_description:e.meta_description||null,keywords:e.keywords||null}}))),t.success(b("seo_settings_saved")||"SEO ayarları başarıyla kaydedildi")}catch(i){t.error(i.message||"SEO ayarları kaydedilirken bir hata oluştu")}finally{M(!1)}})),className:"space-y-6",children:["general"===O&&i.jsxs("div",{className:"space-y-4",children:[i.jsx(_,{control:G.control,name:"site_title",render:({field:e})=>i.jsxs(f,{children:[i.jsx(y,{children:b("site_title")||"Site Başlığı"}),i.jsx(u,{children:i.jsx(x,{...e})}),i.jsx(g,{children:b("site_title_description")||"Sitenizin genel başlığı."}),i.jsx(k,{})]})}),i.jsx(_,{control:G.control,name:"site_description",render:({field:e})=>i.jsxs(f,{children:[i.jsx(y,{children:b("site_description")||"Site Açıklaması"}),i.jsx(u,{children:i.jsx(h,{rows:3,...e})}),i.jsx(k,{})]})})]}),"general"!==O&&i.jsxs("div",{className:"space-y-4",children:[i.jsx(_,{control:G.control,name:"meta_title",render:({field:e})=>i.jsxs(f,{children:[i.jsx(y,{children:b("meta_title")||"Meta Başlık"}),i.jsx(u,{children:i.jsx(x,{...e})}),i.jsx(k,{})]})}),i.jsx(_,{control:G.control,name:"meta_description",render:({field:e})=>i.jsxs(f,{children:[i.jsx(y,{children:b("meta_description")||"Meta Açıklama"}),i.jsx(u,{children:i.jsx(h,{rows:3,...e})}),i.jsx(g,{children:b("meta_description_info")||"Google aramalarında görünecek açıklama."}),i.jsx(k,{})]})}),i.jsx(_,{control:G.control,name:"keywords",render:({field:e})=>i.jsxs(f,{children:[i.jsx(y,{children:b("keywords")||"Anahtar Kelimeler"}),i.jsx(u,{children:i.jsx(x,{...e})}),i.jsx(g,{children:b("keywords_info")||"Virgülle ayrılmış anahtar kelimeler."}),i.jsx(k,{})]})})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(o,{type:"submit",disabled:K,children:K?i.jsxs(i.Fragment,{children:[i.jsx(r,{className:"mr-2 h-4 w-4 animate-spin"}),b("saving")||"Kaydediliyor..."]}):i.jsxs(i.Fragment,{children:[i.jsx(l,{className:"mr-2 h-4 w-4"}),b("save_settings")||"Ayarları Kaydet"]})})})]})})]})})]})]})};export{O as default};
