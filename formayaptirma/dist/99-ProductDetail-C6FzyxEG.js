import{j as e,l as a,w as r,n as s,ad as t,s as i,a9 as l,y as c,a7 as n,ae as d,af as o,ag as m,ah as p,ai as g,p as x,o as h,aj as u,J as y,ak as j}from"./03-hero-critical-BKzCa96P.js";import{r as f}from"./01-react-core-DCvPBpDR.js";import{c as N,b,L as w}from"./02-react-router-l50u7dmW.js";import{C as _,g as v,h as k,f as $,B as C}from"./04-ui-components-DpbmxBFV.js";import{T as A,a as P,b as S}from"./99-tabs-CCs0hPp1.js";import{B as O}from"./99-badge-CpQK4qLU.js";import{S as B,a as z}from"./05-admin-bundle-BW3OFzIa.js";import{c as L}from"./06-utils-QQqVvbBo.js";import{J as q}from"./99-JerseyCard-DWmTcMYn.js";import"./99-index-CxCer4qO.js";const D=f.forwardRef((({...a},r)=>e.jsx("nav",{ref:r,"aria-label":"breadcrumb",...a})));D.displayName="Breadcrumb";const M=f.forwardRef((({className:a,...r},s)=>e.jsx("ol",{ref:s,className:L("flex flex-wrap items-center gap-0.5 break-words text-sm text-muted-foreground sm:gap-1",a),...r})));M.displayName="BreadcrumbList";const T=f.forwardRef((({className:a,...r},s)=>e.jsx("li",{ref:s,className:L("inline-flex items-center gap-0.5",a),...r})));T.displayName="BreadcrumbItem";const E=f.forwardRef((({asChild:r,className:s,...t},i)=>{const l=r?a:"a";return e.jsx(l,{ref:i,className:L("transition-colors hover:text-foreground",s),...t})}));E.displayName="BreadcrumbLink";const I=f.forwardRef((({className:a,...r},s)=>e.jsx("span",{ref:s,role:"link","aria-disabled":"true","aria-current":"page",className:L("font-normal text-foreground",a),...r})));I.displayName="BreadcrumbPage";const R=({children:a,className:s,...t})=>e.jsx("li",{role:"presentation","aria-hidden":"true",className:L("[&>svg]:size-3",s),...t,children:a??e.jsx(r,{})});R.displayName="BreadcrumbSeparator";const W=f.memo((({excludeId:a,limit:r=6})=>{const[l,c]=f.useState([]),[n,d]=f.useState(!0),[o,m]=f.useState(null),{t:p,language:g}=s();return f.useEffect((()=>{(async()=>{try{d(!0),m(null);const{data:e,error:s}=await i.from("products").select("id, display_id, name, image_url, min_order, price, colors, is_new, is_popular, jersey_type, slug").order("created_at",{ascending:!1}).limit(r+(a?2:0));if(s)throw s;let t=e||[];a&&(t=t.filter((e=>e.id!==a))),t=t.slice(0,r);const l=t.map((e=>{return{id:e.id,display_id:e.display_id,name:e.name,image:e.image_url||"/placeholder.svg",minOrder:e.min_order||10,price:e.price,colors:e.colors||1,isNew:e.is_new||!1,isPopular:e.is_popular||!1,jerseyType:e.jersey_type||"all",displayOrder:e.display_id,slug:e.slug||(a=e.name||"",a.toLowerCase().replace(/ğ/g,"g").replace(/ü/g,"u").replace(/ş/g,"s").replace(/ı/g,"i").replace(/ö/g,"o").replace(/ç/g,"c").replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-|-$/g,""))};var a}));c(l)}catch(e){m(e instanceof Error?e.message:"Bilinmeyen bir hata oluştu")}finally{d(!1)}})()}),[r,a]),o?null:n?e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs(_,{children:[e.jsx(v,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(t,{className:"h-6 w-6 text-primary"}),e.jsx(k,{className:"text-2xl font-bold",children:e.jsx(B,{className:"h-8 w-48"})})]})}),e.jsx($,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map(((a,r)=>e.jsxs("div",{className:"space-y-3",children:[e.jsx(B,{className:"h-64 w-full rounded-lg"}),e.jsx(B,{className:"h-4 w-3/4"}),e.jsx(B,{className:"h-4 w-1/2"})]},r)))})})]})}):0===l.length?null:e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs(_,{className:"bg-gradient-to-br from-violet-50 to-indigo-50 dark:from-gray-800 dark:to-gray-900 border-0 shadow-lg",children:[e.jsxs(v,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(t,{className:"h-6 w-6 text-primary"}),e.jsx(k,{className:"text-2xl font-bold text-gray-900 dark:text-white",children:p("En Çok Satan Ürünler")})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:p("Müşterilerimizin en çok tercih ettiği popüler formalar")})]}),e.jsx($,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map((a=>e.jsx(q,{jersey:a,showPrice:!0,showMinOrder:!0,showStockStatus:!1,showDeliveryTime:!1},a.id)))})})]})})}));W.displayName="BestsellerProducts";const G=()=>{const{id:a,slug:r}=N(),[t,v]=f.useState(null),[k,B]=f.useState(0),[L,q]=f.useState("2D"),[G,F]=f.useState(null),[H,J]=f.useState([]),{t:Y,language:U}=s(),[K,Q]=f.useState(!0),V=b(),{trackCustomEvent:X,trackContactClick:Z}=j();f.useEffect((()=>{(async()=>{if(a){Q(!0);try{const e=a.split("/")[0];let s,t;if(!isNaN(Number(e))){const a=await i.from("products").select("*").eq("display_id",Number(e)).single();s=a.data,t=a.error}if(!s&&t){const a=await i.from("products").select("*").eq("id",e).single();if(s=a.data,t=a.error,s&&s.display_id){const e=e=>e.toLowerCase().replace(/ğ/g,"g").replace(/ü/g,"u").replace(/ş/g,"s").replace(/ı/g,"i").replace(/ö/g,"o").replace(/ç/g,"c").replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-|-$/g,""),a=s.slug||e(s.name||"")||"",r=`/product/${s.display_id}/${a}`;return void V(r,{replace:!0})}}if(t)return void Q(!1);if(s){const e=e=>e.toLowerCase().replace(/ğ/g,"g").replace(/ü/g,"u").replace(/ş/g,"s").replace(/ı/g,"i").replace(/ö/g,"o").replace(/ç/g,"c").replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-|-$/g,""),t=s.slug||e(s.name||"")||"",i=`/product/${s.display_id}/${t}`;if(`/product/${a}${r?`/${r}`:""}`!==i)return void V(i,{replace:!0});const l={id:s.id,display_id:s.display_id,name:s.name,image:s.image_url||"/placeholder.svg",minOrder:s.min_order||10,price:s.price,colors:s.colors||1,isNew:s.is_new||!1,isPopular:s.is_popular||!1,jerseyType:s.jersey_type||"all",displayOrder:s.display_id,slug:t};v(l),B(l.minOrder||10),X("product_view",{product_id:l.id,product_name:l.name,product_price:l.price,product_category:l.jerseyType,min_order:l.minOrder,is_new:l.isNew,is_popular:l.isPopular,event_category:"ecommerce"});const c=[];s.image_url&&(c.push({url:s.image_url,isMain:!0}),F(s.image_url)),s.additional_images&&Array.isArray(s.additional_images)&&s.additional_images.forEach((e=>{e&&""!==e.trim()&&c.push({url:e,isMain:!1})})),J(c)}}catch(e){}finally{Q(!1)}}})()}),[a,V]);const ee=e=>{X("breadcrumb_click",{link_name:e,current_product:(null==t?void 0:t.name)||"",event_category:"navigation",section:"product_detail"})};return K?e.jsxs(l,{children:[e.jsxs(c,{children:[e.jsx("title",{children:"tr"===U?"Ürün Yükleniyor... | Athletic Galaxy":"Loading Product... | Athletic Galaxy"}),e.jsx("meta",{name:"description",content:"tr"===U?"Ürün detayları yükleniyor...":"Loading product details..."}),e.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),e.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:""}),e.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),e.jsx("div",{className:"container mx-auto px-4 pt-20 pb-20",children:e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(n,{className:"h-12 w-12 animate-spin text-primary"})}),e.jsx("h2",{className:"text-xl mt-4",children:Y("loading_product")||"Ürün yükleniyor..."})]})})]}):t?e.jsxs(l,{children:[e.jsxs(c,{children:[e.jsx("title",{children:`${t.name} | Athletic Galaxy`}),e.jsx("meta",{name:"description",content:`${t.name} - ${t.price.toFixed(2)} ₺ - ${"tr"===U?"Minimum sipariş: ":"Minimum order: "}${t.minOrder}`}),e.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),e.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:""}),e.jsx("link",{rel:"preload",as:"image",href:t.image}),e.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),e.jsx("div",{className:"bg-gradient-to-b from-gray-50 to-white dark:from-gray-900 dark:to-gray-950 pt-20 pb-20",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx(D,{className:"mb-6",children:e.jsxs(M,{children:[e.jsx(T,{children:e.jsx(E,{href:"/",onClick:()=>ee("home"),children:"tr"===U?"Ana Sayfa":"Home"})}),e.jsx(R,{}),e.jsx(T,{children:e.jsx(E,{href:"/gallery",onClick:()=>ee("gallery"),children:"tr"===U?"Tüm Ürünler":"All Products"})}),e.jsx(R,{}),e.jsx(T,{children:e.jsx(I,{className:"max-w-[200px] truncate",children:t.name})})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx(A,{value:L,className:"w-full max-w-md mx-auto mb-6",children:e.jsx(P,{className:"grid grid-cols-2 w-64 mx-auto",children:e.jsx(S,{value:"2D",onClick:()=>(q("2D"),void(t&&X("product_view_toggle",{product_id:t.id,product_name:t.name,view_type:"2D",event_category:"engagement",section:"product_detail"}))),children:Y("view_2d")})})}),e.jsx(_,{className:"overflow-hidden border-0 shadow-lg rounded-xl bg-white dark:bg-gray-800 hover:shadow-xl transition-shadow duration-300",children:e.jsx($,{className:"p-0",children:e.jsxs("div",{className:"aspect-square relative",children:["2D"===L?e.jsx("img",{src:G||t.image||"/placeholder.svg",alt:t.name,className:"w-full h-full object-contain p-6",width:"600",height:"600",loading:"eager",fetchPriority:"high"}):e.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-center p-6 bg-gray-50 dark:bg-gray-800",children:[e.jsx("div",{className:"animate-pulse rounded-full h-24 w-24 bg-gray-200 dark:bg-gray-700 mb-4"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-2",children:Y("coming_soon")}),e.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:Y("feature_development")})]}),e.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[t.isNew&&e.jsx(O,{className:"bg-green-500 hover:bg-green-600",children:"tr"===U?"Yeni":"New"}),t.isPopular&&e.jsx(O,{className:"bg-amber-500 hover:bg-amber-600",children:"tr"===U?"Popüler":"Popular"})]}),e.jsxs("div",{className:"absolute top-4 right-4 flex flex-col gap-2",children:[e.jsx(C,{size:"icon",variant:"secondary",onClick:()=>{t&&X("product_favorite",{product_id:t.id,product_name:t.name,product_price:t.price,event_category:"engagement",section:"product_detail"})},className:"rounded-full bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm",children:e.jsx(d,{className:"h-5 w-5 text-gray-700 dark:text-gray-300"})}),e.jsx(C,{size:"icon",variant:"secondary",onClick:()=>{t&&X("product_share",{product_id:t.id,product_name:t.name,product_price:t.price,event_category:"engagement",section:"product_detail"})},className:"rounded-full bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm",children:e.jsx(o,{className:"h-5 w-5 text-gray-700 dark:text-gray-300"})})]})]})})})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-3 text-gray-900 dark:text-white",children:t.name}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("span",{className:"text-2xl font-bold text-primary",children:(ae=t.price,`${ae.toFixed(2)} ₺`)}),e.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:Y("per_piece")})]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:"tr"===U?"Nefes alabilen malzemelerle yapılmış, konfor ve dayanıklılık için tasarlanmış yüksek kaliteli premium forma. Profesyonel takımlar, okullar ve toptan forma çözümleri arayan spor kulüpleri için mükemmel.":"High-quality premium jersey made with breathable materials designed for comfort and durability. Perfect for professional teams, schools, and sports clubs looking for wholesale jersey solutions."})]}),e.jsx(z,{}),e.jsx(_,{className:"bg-violet-50 dark:bg-gray-800/50 border-0",children:e.jsxs($,{className:"p-4 flex items-start gap-3",children:[e.jsx(m,{className:"h-5 w-5 text-primary mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:Y("wholesale_info")}),e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[Y("minimum_order"),": ",e.jsxs("strong",{children:[t.minOrder," ",Y("pieces")]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[e.jsx(p,{className:"h-5 w-5 text-primary"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:Y("delivery_estimate")})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[e.jsx(g,{className:"h-5 w-5 text-primary"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:Y("bulk_discounts")})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[e.jsx(x,{className:"h-5 w-5 text-primary"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:Y("custom_printing")})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[e.jsx(m,{className:"h-5 w-5 text-primary"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:Y("bulk_shipping")})]})]}),e.jsxs(C,{className:"w-full py-6 text-lg bg-green-600 hover:bg-green-700 text-white hover:opacity-95 transition-all duration-300 shadow-md",onClick:()=>{if(!t)return;Z("whatsapp","+905322900838"),X("product_purchase_intent",{product_id:t.id,product_name:t.name,product_price:t.price,quantity:k,min_order:t.minOrder,total_value:t.price*k,event_category:"ecommerce",section:"product_detail"});const e=encodeURIComponent("tr"===U?`Merhaba, ${t.name} için toptan sipariş hakkında bilgi almak istiyorum. Detaylar için bilgi verebilir misiniz?`:`Hello, I'd like to inquire about a wholesale order for ${t.name}. I'm interested in ordering ${k} pieces. Could you please provide more details?`);window.open(`https://wa.me/905322900838?text=${e}`,"_blank"),y.success("tr"===U?"WhatsApp siparişi oluşturuluyor...":"Creating WhatsApp order...",{description:"tr"===U?"WhatsApp uygulamasına yönlendiriliyorsunuz.":"You are being redirected to WhatsApp."})},children:[e.jsx(h,{className:"h-5 w-5 mr-2"}),"tr"===U?"WhatsApp ile Satın Al":"Buy Now via WhatsApp"]}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-800",children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100 mb-4",children:Y("wholesaler_benefits")}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[Y("benefits1"),Y("benefits2"),Y("benefits3"),Y("benefits4"),Y("benefits5"),Y("benefits6")].map(((a,r)=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"mt-1",children:e.jsx(u,{className:"h-4 w-4 text-green-500"})}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:a})]},r)))})]})]})]})]})}),e.jsx(W,{excludeId:t.id,limit:6})]}):e.jsxs(l,{children:[e.jsxs(c,{children:[e.jsx("title",{children:"tr"===U?"Ürün Bulunamadı | Athletic Galaxy":"Product Not Found | Athletic Galaxy"}),e.jsx("meta",{name:"description",content:"tr"===U?"İstediğiniz ürün bulunamadı.":"The requested product could not be found."}),e.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),e.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:""}),e.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),e.jsx("div",{className:"container mx-auto px-4 pt-20 pb-20",children:e.jsxs("div",{className:"text-center py-20",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:Y("jersey_not_found")}),e.jsx(w,{to:"/gallery",children:e.jsx(C,{children:Y("return_to_gallery")})})]})})]});var ae};export{G as default};
